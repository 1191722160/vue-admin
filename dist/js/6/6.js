(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{105:function(t,i,n){"use strict";n.r(i);var e=n(178);var o=n(137);for(var r in o)if(r!=="default")(function(t){n.d(i,t,function(){return o[t]})})(r);var s=n(171);var c=n(32);var a=Object(c["a"])(o["default"],e["a"],e["b"],false,null,"489d0170",null);if(false){var u}a.options.__file="src/page/admin/menu/pushset/pushset.vue";i["default"]=a.exports},108:function(t,i,n){"use strict";n.r(i);var e=n(109);var o=n.n(e);for(var r in e)if(r!=="default")(function(t){n.d(i,t,function(){return e[t]})})(r);i["default"]=o.a},109:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:true});i.default={props:{title:{type:String,default:"暂无标题"}},mounted:function t(){}}},110:function(t,i,n){},111:function(t,i,n){"use strict";n.r(i);var e=n(113);var o=n(108);for(var r in o)if(r!=="default")(function(t){n.d(i,t,function(){return o[t]})})(r);var s=n(112);var c=n(32);var a=Object(c["a"])(o["default"],e["a"],e["b"],false,null,"7373c6c0",null);if(false){var u}a.options.__file="src/page/admin/common/component/base/card/card.vue";i["default"]=a.exports},112:function(t,i,n){"use strict";var e=n(110);var o=n.n(e);var r=o.a},113:function(t,i,n){"use strict";var e=function(){var t=this;var i=t.$createElement;var n=t._self._c||i;return n("section",{staticClass:"card"},[n("div",{staticClass:"top"},[t._t("top",[t._m(0),t._v(" "),n("div",{staticClass:"title"},[n("span",{staticClass:"ft10"},[t._v(t._s(t.title))])])])],2),t._v(" "),n("div",{staticClass:"center clearfix"},[t._t("center")],2),t._v(" "),n("div",{staticClass:"down"},[t._t("down")],2)])};var o=[function(){var t=this;var i=t.$createElement;var n=t._self._c||i;return n("div",{staticClass:"icon"},[n("i",{staticClass:"fa fa-gg-circle ft10"})])}];e._withStripped=true;n.d(i,"a",function(){return e});n.d(i,"b",function(){return o})},137:function(t,i,n){"use strict";n.r(i);var e=n(138);var o=n.n(e);for(var r in e)if(r!=="default")(function(t){n.d(i,t,function(){return e[t]})})(r);i["default"]=o.a},138:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:true});var e=n(111);var o=c(e);var r=n(170);var s=c(r);function c(t){return t&&t.__esModule?t:{default:t}}i.default={components:{Card:o.default},data:function t(){return{state:false}},created:function t(){this.state=s.default.Permission.has()},mounted:function t(){var i=this;s.default.Permission.request(function(){console.log()},function(){i.$Notice.warning({title:"通知权限",desc:"通知权限为禁用状态"})})},methods:{pushMessage:function t(){var i=this;s.default.create("嗨，你好",{body:"我是vipbic，你收到了1条新的通知",icon:"https://www.vipbic.com/public/img/logo.png",onClick:function t(){window.focus();i.successMessage()}})},successMessage:function t(){this.$Notice.success({title:"通知提醒",desc:"您刚点了通知提醒"})}}}},139:function(t,i,n){},170:function(n,t,i){(function(p){!function(t,i){true?n.exports=i():undefined}(this,function(){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function o(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function r(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}function s(t,i){if(i&&("object"==typeof i||"function"==typeof i))return i;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var t="PushError:",c={errors:{incompatible:"".concat(t," Push.js is incompatible with browser."),invalid_plugin:"".concat(t," plugin class missing from plugin manifest (invalid plugin). Please check the documentation."),invalid_title:"".concat(t," title of notification must be a string"),permission_denied:"".concat(t," permission request declined"),sw_notification_error:"".concat(t," could not show a ServiceWorker notification due to the following reason: "),sw_registration_error:"".concat(t," could not register the ServiceWorker due to the following reason: "),unknown_interface:"".concat(t," unable to create notification: unknown interface")}},a=function(){function i(t){n(this,i),this._win=t,this.GRANTED="granted",this.DEFAULT="default",this.DENIED="denied",this._permissions=[this.GRANTED,this.DEFAULT,this.DENIED]}return o(i,[{key:"request",value:function(t,i){return arguments.length>0?this._requestWithCallback.apply(this,arguments):this._requestAsPromise()}},{key:"_requestWithCallback",value:function(i,n){var e=this,t=this.get(),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._win.Notification.permission;void 0===t&&e._win.webkitNotifications&&(t=e._win.webkitNotifications.checkPermission()),t===e.GRANTED||0===t?i&&i():n&&n()};t!==this.DEFAULT?o(t):this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._win.webkitNotifications.requestPermission(o):this._win.Notification&&this._win.Notification.requestPermission?this._win.Notification.requestPermission().then(o).catch(function(){n&&n()}):i&&i()}},{key:"_requestAsPromise",value:function(){var o=this,t=this.get(),r=t!==this.DEFAULT,s=this._win.Notification&&this._win.Notification.requestPermission,c=this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission;return new Promise(function(i,n){var e=function(t){return function(t){return t===o.GRANTED||0===t}(t)?i():n()};r?e(t):c?o._win.webkitNotifications.requestPermission(function(t){e(t)}):s?o._win.Notification.requestPermission().then(function(t){e(t)}).catch(n):i()})}},{key:"has",value:function(){return this.get()===this.GRANTED}},{key:"get",value:function(){return this._win.Notification&&this._win.Notification.permission?this._win.Notification.permission:this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._permissions[this._win.webkitNotifications.checkPermission()]:navigator.mozNotification?this.GRANTED:this._win.external&&this._win.external.msIsSiteMode?this._win.external.msIsSiteMode()?this.GRANTED:this.DEFAULT:this.GRANTED}}]),i}(),l=function(){function t(){n(this,t)}return o(t,null,[{key:"isUndefined",value:function(t){return void 0===t}},{key:"isNull",value:function(t){return null===obj}},{key:"isString",value:function(t){return"string"==typeof t}},{key:"isFunction",value:function(t){return t&&"[object Function]"==={}.toString.call(t)}},{key:"isObject",value:function(t){return"object"===i(t)}},{key:"objectMerge",value:function(t,i){for(var n in i)t.hasOwnProperty(n)&&this.isObject(t[n])&&this.isObject(i[n])?this.objectMerge(t[n],i[n]):t[n]=i[n]}}]),t}(),u=function t(i){n(this,t),this._win=i},f=function(t){function i(){return n(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return r(i,u),o(i,[{key:"isSupported",value:function(){return void 0!==this._win.Notification}},{key:"create",value:function(t,i){return new this._win.Notification(t,{icon:l.isString(i.icon)||l.isUndefined(i.icon)||l.isNull(i.icon)?i.icon:i.icon.x32,body:i.body,tag:i.tag,requireInteraction:i.requireInteraction})}},{key:"close",value:function(t){t.close()}}]),i}(),h=function(t){function i(){return n(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return r(i,u),o(i,[{key:"isSupported",value:function(){return void 0!==this._win.navigator&&void 0!==this._win.navigator.serviceWorker}},{key:"getFunctionBody",value:function(t){var i=t.toString().match(/function[^{]+{([\s\S]*)}$/);return void 0!==i&&null!==i&&i.length>1?i[1]:null}},{key:"create",value:function(n,e,o,t,r){var s=this;this._win.navigator.serviceWorker.register(t),this._win.navigator.serviceWorker.ready.then(function(i){var t={id:n,link:o.link,origin:document.location.href,onClick:l.isFunction(o.onClick)?s.getFunctionBody(o.onClick):"",onClose:l.isFunction(o.onClose)?s.getFunctionBody(o.onClose):""};void 0!==o.data&&null!==o.data&&(t=Object.assign(t,o.data)),i.showNotification(e,{icon:o.icon,body:o.body,vibrate:o.vibrate,tag:o.tag,data:t,requireInteraction:o.requireInteraction,silent:o.silent}).then(function(){i.getNotifications().then(function(t){i.active.postMessage(""),r(t)})}).catch(function(t){throw new Error(c.errors.sw_notification_error+t.message)})}).catch(function(t){throw new Error(c.errors.sw_registration_error+t.message)})}},{key:"close",value:function(){}}]),i}(),v=function(t){function i(){return n(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return r(i,u),o(i,[{key:"isSupported",value:function(){return void 0!==this._win.navigator.mozNotification}},{key:"create",value:function(t,i){var n=this._win.navigator.mozNotification.createNotification(t,i.body,i.icon);return n.show(),n}}]),i}(),d=function(t){function i(){return n(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return r(i,u),o(i,[{key:"isSupported",value:function(){return void 0!==this._win.external&&void 0!==this._win.external.msIsSiteMode}},{key:"create",value:function(t,i){return this._win.external.msSiteModeClearIconOverlay(),this._win.external.msSiteModeSetIconOverlay(l.isString(i.icon)||l.isUndefined(i.icon)?i.icon:i.icon.x16,t),this._win.external.msSiteModeActivate(),null}},{key:"close",value:function(){this._win.external.msSiteModeClearIconOverlay()}}]),i}(),_=function(t){function i(){return n(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return r(i,u),o(i,[{key:"isSupported",value:function(){return void 0!==this._win.webkitNotifications}},{key:"create",value:function(t,i){var n=this._win.webkitNotifications.createNotification(i.icon,t,i.body);return n.show(),n}},{key:"close",value:function(t){t.cancel()}}]),i}();return new(function(){function i(t){n(this,i),this._currentId=0,this._notifications={},this._win=t,this.Permission=new a(t),this._agents={desktop:new f(t),chrome:new h(t),firefox:new v(t),ms:new d(t),webkit:new _(t)},this._configuration={serviceWorker:"/serviceWorker.min.js",fallback:function(t){}}}return o(i,[{key:"_closeNotification",value:function(t){var i=!0,n=this._notifications[t];if(void 0!==n){if(i=this._removeNotification(t),this._agents.desktop.isSupported())this._agents.desktop.close(n);else if(this._agents.webkit.isSupported())this._agents.webkit.close(n);else{if(!this._agents.ms.isSupported())throw i=!1,new Error(c.errors.unknown_interface);this._agents.ms.close()}return i}return!1}},{key:"_addNotification",value:function(t){var i=this._currentId;return this._notifications[i]=t,this._currentId++,i}},{key:"_removeNotification",value:function(t){var i=!1;return this._notifications.hasOwnProperty(t)&&(delete this._notifications[t],i=!0),i}},{key:"_prepareNotification",value:function(t,i){var n,e=this;return n={get:function(){return e._notifications[t]},close:function(){e._closeNotification(t)}},i.timeout&&setTimeout(function(){n.close()},i.timeout),n}},{key:"_serviceWorkerCallback",value:function(t,i,n){var e=this,o=this._addNotification(t[t.length-1]);navigator&&navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",function(t){var i=JSON.parse(t.data);"close"===i.action&&Number.isInteger(i.id)&&e._removeNotification(i.id)}),n(this._prepareNotification(o,i))),n(null)}},{key:"_createCallback",value:function(t,i,n){var e,o=this,r=null;if(i=i||{},e=function(t){o._removeNotification(t),l.isFunction(i.onClose)&&i.onClose.call(o,r)},this._agents.desktop.isSupported())try{r=this._agents.desktop.create(t,i)}catch(e){var s=this._currentId,c=this.config().serviceWorker,a=function(t){return o._serviceWorkerCallback(t,i,n)};this._agents.chrome.isSupported()&&this._agents.chrome.create(s,t,i,c,a)}else this._agents.webkit.isSupported()?r=this._agents.webkit.create(t,i):this._agents.firefox.isSupported()?this._agents.firefox.create(t,i):this._agents.ms.isSupported()?r=this._agents.ms.create(t,i):(i.title=t,this.config().fallback(i));if(null!==r){var u=this._addNotification(r),f=this._prepareNotification(u,i);l.isFunction(i.onShow)&&r.addEventListener("show",i.onShow),l.isFunction(i.onError)&&r.addEventListener("error",i.onError),l.isFunction(i.onClick)&&r.addEventListener("click",i.onClick),r.addEventListener("close",function(){e(u)}),r.addEventListener("cancel",function(){e(u)}),n(f)}n(null)}},{key:"create",value:function(n,e){var t,o=this;if(!l.isString(n))throw new Error(c.errors.invalid_title);return t=this.Permission.has()?function(t,i){try{o._createCallback(n,e,t)}catch(t){i(t)}}:function(t,i){o.Permission.request().then(function(){o._createCallback(n,e,t)}).catch(function(){i(c.errors.permission_denied)})},new Promise(t)}},{key:"count",value:function(){var t,i=0;for(t in this._notifications)this._notifications.hasOwnProperty(t)&&i++;return i}},{key:"close",value:function(t){var i;for(i in this._notifications)if(this._notifications.hasOwnProperty(i)&&this._notifications[i].tag===t)return this._closeNotification(i)}},{key:"clear",value:function(){var t,i=!0;for(t in this._notifications)this._notifications.hasOwnProperty(t)&&(i=i&&this._closeNotification(t));return i}},{key:"supported",value:function(){var t=!1;for(var i in this._agents)this._agents.hasOwnProperty(i)&&(t=t||this._agents[i].isSupported());return t}},{key:"config",value:function(t){return(void 0!==t||null!==t&&l.isObject(t))&&l.objectMerge(this._configuration,t),this._configuration}},{key:"extend",value:function(t){var i,n={}.hasOwnProperty;if(!n.call(t,"plugin"))throw new Error(c.errors.invalid_plugin);n.call(t,"config")&&l.isObject(t.config)&&null!==t.config&&this.config(t.config),i=new(0,t.plugin)(this.config());for(var e in i)n.call(i,e)&&l.isFunction(i[e])&&(this[e]=i[e])}}]),i}())("undefined"!=typeof window?window:p)})}).call(this,i(8))},171:function(t,i,n){"use strict";var e=n(139);var o=n.n(e);var r=o.a},178:function(t,i,n){"use strict";var e=function(){var i=this;var t=i.$createElement;var n=i._self._c||t;return n("section",[n("Card",{attrs:{title:"桌面通知"}},[n("div",{staticClass:"center",attrs:{slot:"center"},slot:"center"},[n("div",[!i.state?n("Alert",{attrs:{type:"warning","show-icon":""}},[i._v("\n                    浏览器通知权限\n                    "),n("template",{slot:"desc"},[i._v("\n                        禁用状态,请先打开通知权限一般在浏览器地址栏输入框前方\n                    ")])],2):i._e(),i._v(" "),i.state?n("Alert",{attrs:{type:"success","show-icon":""}},[i._v("\n                    浏览器通知权限\n                    "),n("template",{slot:"desc"},[i._v("\n                        开启状态\n                    ")])],2):i._e(),i._v(" "),n("Button",{staticClass:"custom-btn",attrs:{type:"success",disabled:!i.state},on:{click:function(t){return i.pushMessage()}}},[i._v("发送通知")])],1)])])],1)};var o=[];e._withStripped=true;n.d(i,"a",function(){return e});n.d(i,"b",function(){return o})}}]);